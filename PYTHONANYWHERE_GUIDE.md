# ุฑุงูููุง ูุตุจ ุฑุจุงุช ุชูฺฏุฑุงู Shazam ุฑู PythonAnywhere

## ููุฏูู
ุงู ุฑุงูููุง ุจู ุดูุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุฑุจุงุช ุชูฺฏุฑุงู Shazam ุฑุง ุฑู PythonAnywhere ูุตุจ ู ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ. PythonAnywhere ฺฉ ูพูุชูุฑู ุงุจุฑ ุจุฑุง ุงุฌุฑุง ุจุฑูุงููโูุง ูพุงุชูู ุงุณุช.

## ูพุดโูุงุฒูุง
1. ุญุณุงุจ ฺฉุงุฑุจุฑ PythonAnywhere (ุญุณุงุจ ุฑุงฺฏุงู ฺฉุงู ุงุณุช)
2. ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู (ุงุฒ @BotFather)
3. ูุงูโูุง ูพุฑูฺู ุฑุจุงุช

## ูุฑุญูู ฑ: ุขูพููุฏ ูุงูโูุง ุฑู PythonAnywhere

### ฑ.ฑ ูุฑูุฏ ุจู PythonAnywhere
1. ุจู [pythonanywhere.com](https://www.pythonanywhere.com) ูุงุฑุฏ ุดูุฏ
2. ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุดูุฏ

### ฑ.ฒ ุขูพููุฏ ูุงูโูุง
1. ุจู ุชุจ **Files** ุจุฑูุฏ
2. ุจู ูุณุฑ `/home/your_username/` ุจุฑูุฏ
3. ุฏฺฉูู **Upload a file** ุฑุง ุจุฒูุฏ
4. ูุงูโูุง ุฒุฑ ุฑุง ุขูพููุฏ ฺฉูุฏ:
   - `shazam_bot.py`
   - `requirements.txt`

## ูุฑุญูู ฒ: ุชูุธู ุชูฺฉู ุฑุจุงุช

### ฒ.ฑ ูุฑุงุด ูุงู ุฑุจุงุช
1. ุฏุฑ ุชุจ **Files**ุ ูุงู `shazam_bot.py` ุฑุง ุจุงุฒ ฺฉูุฏ
2. ุฎุท ุฒุฑ ุฑุง ูพุฏุง ฺฉูุฏ:
   ```python
   BOT_TOKEN = "YOUR_BOT_TOKEN_HERE"
   ```
3. `YOUR_BOT_TOKEN_HERE` ุฑุง ุจุง ุชูฺฉู ูุงูุน ุฑุจุงุช ุฎูุฏ ุฌุงฺฏุฒู ฺฉูุฏ
4. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ (Ctrl+S)

### ฒ.ฒ ุชูุธู ฺฉุงุฑุจุฑ ุงุฏูู (ุงุฎุชุงุฑ)
ุงฺฏุฑ ูโุฎูุงูุฏ ฺฉุงุฑุจุฑ ุงุฏูู ุชูุธู ฺฉูุฏ:
1. ุฎุท ุฒุฑ ุฑุง ูพุฏุง ฺฉูุฏ:
   ```python
   ADMIN_USER_ID = None
   ```
2. `None` ุฑุง ุจุง ุดูุงุณู ุนุฏุฏ ฺฉุงุฑุจุฑ ุฎูุฏ ุฏุฑ ุชูฺฏุฑุงู ุฌุงฺฏุฒู ฺฉูุฏ
3. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ

## ูุฑุญูู ณ: ูุตุจ ูพฺฉุฌโูุง ููุฑุฏ ูุงุฒ

### ณ.ฑ ุจุงุฒ ฺฉุฑุฏู ฺฉูุณูู
1. ุจู ุชุจ **Consoles** ุจุฑูุฏ
2. ุฏฺฉูู **Start a new console** ุฑุง ุจุฒูุฏ
3. **Bash** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

### ณ.ฒ ูุตุจ ูพฺฉุฌโูุง
ุฏุฑ ฺฉูุณูู ุจุงุฒ ุดุฏูุ ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:

```bash
# ูุตุจ ูพฺฉุฌโูุง ุงุฒ ูุงู requirements.txt
pip install -r requirements.txt

# ูุตุจ ูพฺฉุฌโูุง ุงุถุงู ุจุฑุง ูพุดุชุจุงู ุงุฒ ูุงูโูุง ุตูุช
pip install python-telegram-bot aiohttp shazamio
```

## ูุฑุญูู ด: ุชุณุช ุฑุจุงุช

### ด.ฑ ุงุฌุฑุง ุฏุณุช ุฑุจุงุช
ุฏุฑ ฺฉูุณูู bashุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```bash
python3 shazam_bot.py
```

ุงฺฏุฑ ููู ฺุฒ ุฏุฑุณุช ุจุงุดุฏุ ุจุงุฏ ูพุงู ูุงููุฏ ุงู ุจุจูุฏ:
```
2024-XX-XX XX:XX:XX - __main__ - INFO - Starting bot...
```

### ด.ฒ ุชุณุช ุฑุจุงุช ุฏุฑ ุชูฺฏุฑุงู
1. ุจู ุชูฺฏุฑุงู ุจุฑูุฏ
2. ุฑุจุงุช ุฎูุฏ ุฑุง ูพุฏุง ฺฉูุฏ (@your_bot_username)
3. ุฏุณุชูุฑ `/start` ุฑุง ุงุฑุณุงู ฺฉูุฏ
4. ุจุงุฏ ูพุงู ุฎูุดุงูุฏฺฏู ุฑุง ุจุจูุฏ

ุจุฑุง ูุชููู ฺฉุฑุฏู ุฑุจุงุชุ `Ctrl+C` ุฑุง ูุดุงุฑ ุฏูุฏ.

## ูุฑุญูู ต: ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ุฑุจุงุช

### ต.ฑ ุงุฌุงุฏ ูุงู ุงุฌุฑุง
1. ุฏุฑ ุชุจ **Files**ุ ุฏฺฉูู **New file** ุฑุง ุจุฒูุฏ
2. ูุงู ูุงู ุฑุง `run_bot.py` ุจฺฏุฐุงุฑุฏ
3. ูุญุชูุง ุฒุฑ ุฑุง ฺฉูพ ฺฉูุฏ:

```python
#!/usr/bin/env python3
import subprocess
import sys
import os
import signal
import time

def run_bot():
    """Run the Shazam bot"""
    try:
        # Change to the script directory
        script_dir = os.path.dirname(os.path.abspath(__file__))
        os.chdir(script_dir)
        
        # Run the bot
        subprocess.run([sys.executable, 'shazam_bot.py'])
    except KeyboardInterrupt:
        print("Bot stopped by user")
    except Exception as e:
        print(f"Error running bot: {e}")
        time.sleep(5)  # Wait before retrying
        run_bot()  # Restart the bot

if __name__ == '__main__':
    run_bot()
```

4. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ

### ต.ฒ ุชูุธู Scheduled Task
1. ุจู ุชุจ **Tasks** ุจุฑูุฏ
2. ุฏฺฉูู **Set up a new scheduled task** ุฑุง ุจุฒูุฏ
3. ุชูุธูุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   - **Description**: `Shazam Telegram Bot`
   - **Command**: `/home/your_username/run_bot.py`
   - **Frequency**: `Daily`
   - **Hour**: `00`
   - **Minute**: `00`
4. ุฏฺฉูู **Create** ุฑุง ุจุฒูุฏ

### ต.ณ ุชูุธู Always-on Task (ุญุณุงุจโูุง ูพูู)
ุงฺฏุฑ ุญุณุงุจ ูพูู PythonAnywhere ุฏุงุฑุฏ:
1. ุจู ุชุจ **Tasks** ุจุฑูุฏ
2. ุจู ุจุฎุด **Always-on tasks** ุจุฑูุฏ
3. ุฏฺฉูู **Add an always-on task** ุฑุง ุจุฒูุฏ
4. ุชูุธูุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   - **Description**: `Shazam Telegram Bot`
   - **Command**: `/home/your_username/run_bot.py`
   - **Timeout**: `24 hours`
5. ุฏฺฉูู **Create** ุฑุง ุจุฒูุฏ

## ูุฑุญูู ถ: ูุงูุชูุฑูฺฏ ู ูุงฺฏโูุง

### ถ.ฑ ูุดุงูุฏู ูุงฺฏโูุง
1. ุจู ุชุจ **Files** ุจุฑูุฏ
2. ูุงู `.bashrc` ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุฎุท ุฒุฑ ุฑุง ุจู ุงูุชูุง ูุงู ุงุถุงูู ฺฉูุฏ:
   ```bash
   export PYTHONPATH=/home/your_username:$PYTHONPATH
   ```
4. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ

### ถ.ฒ ุงุฌุงุฏ ูุงู ูุงฺฏ
1. ุฏุฑ ุชุจ **Files**ุ ุฏฺฉูู **New file** ุฑุง ุจุฒูุฏ
2. ูุงู ูุงู ุฑุง `bot_log.py` ุจฺฏุฐุงุฑุฏ
3. ูุญุชูุง ุฒุฑ ุฑุง ฺฉูพ ฺฉูุฏ:

```python
#!/usr/bin/env python3
import logging
import sys
import os
from datetime import datetime

# Set up logging
log_file = '/home/your_username/bot.log'
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler(log_file),
        logging.StreamHandler()
    ]
)

# Redirect stdout and stderr to log file
sys.stdout = open(log_file, 'a')
sys.stderr = open(log_file, 'a')

print(f"Bot started at {datetime.now()}")
```

4. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ

### ถ.ณ ูุดุงูุฏู ูุงฺฏโูุง
ุจุฑุง ูุดุงูุฏู ูุงฺฏโูุง ุฑุจุงุช:
1. ุจู ุชุจ **Consoles** ุจุฑูุฏ
2. ฺฉ ฺฉูุณูู **Bash** ุฌุฏุฏ ุจุงุฒ ฺฉูุฏ
3. ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
   ```bash
   tail -f /home/your_username/bot.log
   ```

## ูุฑุญูู ท: ุนุจโุงุจ

### ท.ฑ ูุดฺฉูุงุช ุฑุงุฌ

#### ูุดฺฉู: ุฑุจุงุช ุงุฌุฑุง ููโุดูุฏ
**ุฑุงูโุญู:**
1. ูุทูุฆู ุดูุฏ ุชูฺฉู ุฑุจุงุช ุตุญุญ ุงุณุช
2. ูพฺฉุฌโูุง ุฑุง ุฏูุจุงุฑู ูุตุจ ฺฉูุฏ:
   ```bash
   pip install --upgrade python-telegram-bot aiohttp shazamio
   ```

#### ูุดฺฉู: ุฎุทุง Permission denied
**ุฑุงูโุญู:**
1. ูุทูุฆู ุดูุฏ ูุงูโูุง ุฏุฑ ูุณุฑ ุตุญุญ ูุณุชูุฏ
2. ุฏุณุชุฑุณ ูุงูโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ

#### ูุดฺฉู: ุฑุจุงุช ูพุณ ุงุฒ ูุฏุช ูุชููู ูโุดูุฏ
**ุฑุงูโุญู:**
1. ุจุฑุง ุญุณุงุจโูุง ุฑุงฺฏุงูุ ุงู ุทุจุน ุงุณุช
2. ุงุฒ Scheduled Task ุจุฑุง ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุงุณุชูุงุฏู ฺฉูุฏ
3. ุจุฑุง ุญุณุงุจโูุง ูพููุ ุงุฒ Always-on task ุงุณุชูุงุฏู ฺฉูุฏ

### ท.ฒ ุฑุงูโุญูโูุง ูพุดุฑูุชู

#### ุงุณุชูุงุฏู ุงุฒ systemd (ุญุณุงุจโูุง ูพูู)
ุงฺฏุฑ ุจู ุฏุณุชุฑุณ ssh ุฏุงุฑุฏ:
1. ูุงู ุณุฑูุณ ุงุฌุงุฏ ฺฉูุฏ:
   ```bash
   nano /home/your_username/shazam-bot.service
   ```
2. ูุญุชูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:
   ```ini
   [Unit]
   Description=Shazam Telegram Bot
   After=network.target

   [Service]
   Type=simple
   User=your_username
   WorkingDirectory=/home/your_username
   ExecStart=/usr/bin/python3 /home/your_username/shazam_bot.py
   Restart=always
   RestartSec=10

   [Install]
   WantedBy=multi-user.target
   ```
3. ุณุฑูุณ ุฑุง ูุนุงู ฺฉูุฏ:
   ```bash
   systemctl --user enable shazam-bot.service
   systemctl --user start shazam-bot.service
   ```

## ูุฑุญูู ธ: ุจูโุฑูุฒุฑุณุงู ุฑุจุงุช

### ธ.ฑ ุจูโุฑูุฒุฑุณุงู ฺฉุฏ
1. ูุงูโูุง ุฌุฏุฏ ุฑุง ุขูพููุฏ ฺฉูุฏ
2. ุฏุฑ ฺฉูุณูู bashุ ุฑุจุงุช ุฑุง ูุชููู ฺฉูุฏ:
   ```bash
   pkill -f shazam_bot.py
   ```
3. ุฑุจุงุช ุฑุง ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ:
   ```bash
   python3 shazam_bot.py
   ```

### ธ.ฒ ุจูโุฑูุฒุฑุณุงู ูพฺฉุฌโูุง
ุฏุฑ ฺฉูุณูู bash:
```bash
pip install --upgrade -r requirements.txt
```

## ูฺฉุงุช ููุง

1. **ุญุณุงุจ ุฑุงฺฏุงู**: ุฏุฑ ุญุณุงุจโูุง ุฑุงฺฏุงู PythonAnywhereุ ุฑุจุงุช ุดูุง ููฺฉู ุงุณุช ูุฑ 24 ุณุงุนุช ูุชููู ุดูุฏ ู ูุงุฒ ุจู ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุฏุงุดุชู ุจุงุดุฏ.
2. **ููุงุจุน**: ุฑุจุงุช ููุงุจุน ุฒุงุฏ ูุตุฑู ููโฺฉูุฏุ ุงูุง ุจุฑุง ุนููฺฉุฑุฏ ุจูุชุฑุ ุญุณุงุจ ูพูู ุชูุตู ูโุดูุฏ.
3. **ุงููุช**: ุชูฺฉู ุฑุจุงุช ุฎูุฏ ุฑุง ุฏุฑ ุฏุณุชุฑุณ ุฏฺฏุฑุงู ูุฑุงุฑ ูุฏูุฏ.
4. **ูพุดุชุจุงูโฺฏุฑ**: ููุดู ุงุฒ ูุงูโูุง ุฎูุฏ ูพุดุชุจุงู ุจฺฏุฑุฏ.

## ูพุดุชุจุงู
ุงฺฏุฑ ุฏุฑ ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุจุง ูุดฺฉู ููุงุฌู ุดุฏุฏ:
1. ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุทูุฆู ุดูุฏ ุชูุงู ูุฑุงุญู ุฑุง ุจู ุฏุฑุณุช ุงูุฌุงู ุฏุงุฏูโุงุฏ
3. ุฏุฑ ุตูุฑุช ูุงุฒุ ุจุง ูพุดุชุจุงู PythonAnywhere ุชูุงุณ ุจฺฏุฑุฏ

ูููู ุจุงุดุฏ! ๐ต๐ค